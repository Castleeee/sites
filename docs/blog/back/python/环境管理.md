---
title: 环境管理&问题
date: 2018-1-1 20:38:45
categories: backEnd
tags:
- 错误记录
- 环境管理
- 后端

---
# Anaconda&conda
## 命令
### 环境管理
- **conda create --name xxx python=2.7/3.6**
    - 创建了一个名为xxx的包含基本的numpy，pandas，urlib等的python2.7/3，6环境
    - 实体目录在Anaconda目录下的envs文件夹下
- **conda info --envs**
    - 查看所有环境的信息，带*的表示当前激活的环境
- **[de]activate xxx**
    - [退出]激活xxx环境
- **conda env export > environment.yaml**
    - 在当前环境下产生了yaml
- **pip freeze > 目录/requirements.txt**
    - 导出当前的pip环境下的包
- **conda env create -f environment.yaml**
    - 根据yaml创建conda环境
- **pip install -r requirements.txt**
    - 根据导出的文件安装包
### 包管理
- **conda/pip list**
    - 列出当前环境里的包
- **pip/conda isntall xx[=n]**
    - 安装xx[指定版本=n]
    - conda 可以指定渠道和自动安装解决依赖conda install -c <a href='http://link.zhihu.com/?target=http%3A//anaconda.org/'>渠道名</a> xxx
- **conda remove [--name xx] xxx**
    - 删除本环境[指定环境xx]中的xxx
- **pip uninstall xxx**
    - 卸载本环境中的 xxx
- **conda update conda/python/xxx**
    - 升级caonda/python/xxx(指定包)
### 更换豆瓣源
单次使用:<br/>
pip install xxx -i https://pypi.tuna.tsinghua.edu.cn/simple<br/>
**windows**<br/>
直接在我的电脑文件栏中输入%APPDATA%(或找到用户文件夹C:\Users\xxxx)<br>
新建pip文件夹，在文件夹中新建pip.ini<br/>
**linux**<br/>
修改~/.pip/pip.conf没有就新建一个，写入内容
内容:
>[global]<br/>
 index-url = https://pypi.doubanio.com/simple/<br/>
 [install]<br/>
 trusted-host=pypi.doubanio.com<br/>
 disable-pip-version-check = true<br/>
 timeout = 600<br/>
# go语言环境管理
## go 命令
## beego命令
# java环境管理


<a href='/blog/back/java/java环境管理.html'>单独拿出一篇讲java环境管理</a>

鸽了
## Pandas
**`import pandas as pd`**
numpy pandas和Scipy+matplotlib无缝贴合，而且和后面的机器学习库也是配合精妙。  
pandas主要使用Series，DataFrame,Panel三种数据结构，分别适用于一维，二维，高维的情况。基于numpy数组，速度有保障。
### 属性和类型
pandas支持的类型:
- float 默认
- int 默认
- bool
- datetime64 
- datetime64 
- timedelta 
- category 
- object 包括字符串
默认的数据类型是int64,float64
### Series
- 由`pandas.Series( data, index=None, dtype, name ,copy)`创建。
    - data是`一维`的类数组对象，数组字符串
    - index默认会用自然数来标记，你也可以自己传入一个和data长度相同的数组作为下标
    - dtype仍然是用来规定数据类型的
    - copy默认为False，是否复制数组  

用一个`常数`和`字符串`创建的时候所有的值都是该常数。  
字典默认会把键作为index值放到data    
:::warning
字典无序但是索引有序，自己再指定一次index=[自己想要的顺序的k]就可以了
:::
- index和values属性可以获得当前的键和值的集合,直接用下标也可以取出来。
- Series.name属性也就是上面的name参数会添加一些说明
- Series.index.name=""会对列上面有一个属性说明。  

<details>
  <summary><B><I style="cursor:pointer; color: #0e5870">Click to See More Results</I></B></summary>

```
l=[1,2,3,4,5,6,7,8]
x=pd.Series(l,index=["a","b","c","d","e","h","i","j"],name="xxx")
x.index.name="sdfyu"
``` 

```json
sdfyu
a    1
b    2
c    3
d    4
e    5
h    6
i    7
j    8
Name: xxx, dtype: int64
```

</details>

### DataFrame
使用`pd.DataFrame(data=None, index=None, columns=None, dtype=None, copy=False)`实例化创建。
- data 嵌套列表，二维数组，字典，DF
- colunms 索引对象or类数组对象，可以创建后动态修改df.columns=["xx","yy"]，设置列的名称，使用df.index.name="xx"设置列标题
- index 性质同colunms，设置行的名称，df.columns.name="xx"
- dtype 控制类型

<br/>

可以使用字典创建，字典的K会作为行标题，V(是数组的情况下)作为每一行的数据  
可以使用自定义对象类型的数组创建。


**基本属性**:
- T 转置，参考numpy的转置
- at 切片的(×)
- axes 返回行和列的label，[0]是行[1]是列
- blocks 各种数据类型分块输出
- dtypes 返回各列类型
- ftypes 返回各列类型，以及数据稀疏or密集
- empty 是不是空
- iat 切片的后面讲
- iloc 切片的，后面讲
- is_copy 是不是复制？警告:已经快不用了!(×)
- ix 切片的，后面讲 警告:已经快不用了!(×)
- loc 切片的，后面讲(×)
- ndim 数据维度，DF一定是2
- shape 数据形状
- size 数据总量，shape的乘积
- style 看不懂了咋还有样式?(×)
- values 嵌套的二维数组全是值
- head() 返回前n行。
- tail() 返回最后n行。





```py
print(verifyData)
print(verifyData.T) 
print(verifyData.axes) 
print(verifyData.blocks) 
print(verifyData.dtypes) 
print(verifyData.ftypes) 
print(verifyData.empty) 
print(verifyData.is_copy) 
print(verifyData.ndim) 
print(verifyData.shape)
print(verifyData.size) 
print(verifyData.style) 
print(verifyData.values) 
print(verifyData.head(5)) 
print(verifyData.tail(2)) 
```

<details>
  <summary><B><I style="cursor:pointer; color: #0e5870">Click to See More Results</I></B></summary>

```json
verifyData:
    Enterprise Destination    Price Origin Custom
0   1301930930        D110   4.6000  OR028    C18
1   1301965881        D125  10.7274  OR028    C16
2   3104915030        D137   1.8462  OR049    C16
3   3104915030        D140  28.6700  OR081    C16
4   3107965839        D043   2.1850  OR101    C16
5   3109965344        D056   5.1700  OR034    C16
6   3109965344        D082  26.0500  OR049    C16
7   3109965531        D137   1.9355  OR094    C16
8   3111966828        D074   7.6250  OR091    C16
9   3116961332        D012   5.0300  OR057    C16
10  3117940415        D094   3.7697  OR093    C16
11  3117940415        D094   3.4276  OR093    C16
12  3117960753        D113   2.2414  OR091    C16
13  3122262938        D007  30.8000  OR001    C01
14  3122266784        D092   4.3400  OR100    C16
15  3122268341        D021   1.9741  OR100    C15
16  3122268341        D004   4.5300  OR100    C16
17  3122268643        D015   1.9862  OR093    C16
18  3201912922        D033   3.5156  OR049    C16
19  3201919012        D044   2.3370  OR033    C16

verifyData.T:
                     0           1           2           3           4   \
Enterprise   1301930930  1301965881  3104915030  3104915030  3107965839   
Destination        D110        D125        D137        D140        D043   
Price               4.6     10.7274      1.8462       28.67       2.185   
Origin            OR028       OR028       OR049       OR081       OR101   
Custom              C18         C16         C16         C16         C16   

                     5           6           7           8           9   \
Enterprise   3109965344  3109965344  3109965531  3111966828  3116961332   
Destination        D056        D082        D137        D074        D012   
Price              5.17       26.05      1.9355       7.625        5.03   
Origin            OR034       OR049       OR094       OR091       OR057   
Custom              C16         C16         C16         C16         C16   

                     10          11          12          13          14  \
Enterprise   3117940415  3117940415  3117960753  3122262938  3122266784   
Destination        D094        D094        D113        D007        D092   
Price            3.7697      3.4276      2.2414        30.8        4.34   
Origin            OR093       OR093       OR091       OR001       OR100   
Custom              C16         C16         C16         C01         C16   

                     15          16          17          18          19  
Enterprise   3122268341  3122268341  3122268643  3201912922  3201919012  
Destination        D021        D004        D015        D033        D044  
Price            1.9741        4.53      1.9862      3.5156       2.337  
Origin            OR100       OR100       OR093       OR049       OR033  
Custom              C15         C16         C16         C16         C16  

verifyData.axes:
[RangeIndex(start=0, stop=20, step=1), Index(['Enterprise', 'Destination', 'Price', 'Origin', 'Custom'], dtype='object')]

verifyData.blocks:
{'float64':       Price
0    4.6000
1   10.7274
2    1.8462
3   28.6700
4    2.1850
5    5.1700
6   26.0500
7    1.9355
8    7.6250
9    5.0300
10   3.7697
11   3.4276
12   2.2414
13  30.8000
14   4.3400
15   1.9741
16   4.5300
17   1.9862
18   3.5156
19   2.3370,
 'int64':     Enterprise
0   1301930930
1   1301965881
2   3104915030
3   3104915030
4   3107965839
5   3109965344
6   3109965344
7   3109965531
8   3111966828
9   3116961332
10  3117940415
11  3117940415
12  3117960753
13  3122262938
14  3122266784
15  3122268341
16  3122268341
17  3122268643
18  3201912922
19  3201919012, 
'object':    Destination Origin Custom
0         D110  OR028    C18
1         D125  OR028    C16
2         D137  OR049    C16
3         D140  OR081    C16
4         D043  OR101    C16
5         D056  OR034    C16
6         D082  OR049    C16
7         D137  OR094    C16
8         D074  OR091    C16
9         D012  OR057    C16
10        D094  OR093    C16
11        D094  OR093    C16
12        D113  OR091    C16
13        D007  OR001    C01
14        D092  OR100    C16
15        D021  OR100    C15
16        D004  OR100    C16
17        D015  OR093    C16
18        D033  OR049    C16
19        D044  OR033    C16}

verifyData.dtypes:
Enterprise       int64
Destination     object
Price          float64
Origin          object
Custom          object
dtype: object

verifyData.ftypes:：
Enterprise       int64:dense
Destination     object:dense
Price          float64:dense
Origin          object:dense
Custom          object:dense
dtype: object

verifyData.empty：False

verifyData.is_copy：None

verifyData.ndim:2

verifyData.shape:(20, 5)

verifyData.size：100


verifyData.style:<pandas.io.formats.style.Styler object at 0x0000020A062C9D30>


verifyData.values：:
[[1301930930 'D110' 4.6 'OR028' 'C18']
 [1301965881 'D125' 10.7274 'OR028' 'C16']
 [3104915030 'D137' 1.8462 'OR049' 'C16']
 [3104915030 'D140' 28.67 'OR081' 'C16']
 [3107965839 'D043' 2.185 'OR101' 'C16']
 [3109965344 'D056' 5.17 'OR034' 'C16']
 [3109965344 'D082' 26.05 'OR049' 'C16']
 [3109965531 'D137' 1.9355 'OR094' 'C16']
 [3111966828 'D074' 7.625 'OR091' 'C16']
 [3116961332 'D012' 5.03 'OR057' 'C16']
 [3117940415 'D094' 3.7697 'OR093' 'C16']
 [3117940415 'D094' 3.4276 'OR093' 'C16']
 [3117960753 'D113' 2.2414 'OR091' 'C16']
 [3122262938 'D007' 30.8 'OR001' 'C01']
 [3122266784 'D092' 4.34 'OR100' 'C16']
 [3122268341 'D021' 1.9741 'OR100' 'C15']
 [3122268341 'D004' 4.53 'OR100' 'C16']
 [3122268643 'D015' 1.9862 'OR093' 'C16']
 [3201912922 'D033' 3.5156 'OR049' 'C16']
 [3201919012 'D044' 2.337 'OR033' 'C16']]
 
verifyData.head(5)：
   Enterprise Destination    Price Origin Custom
0  1301930930        D110   4.6000  OR028    C18
1  1301965881        D125  10.7274  OR028    C16
2  3104915030        D137   1.8462  OR049    C16
3  3104915030        D140  28.6700  OR081    C16
4  3107965839        D043   2.1850  OR101    C16

verifyData.tail(2) :
    Enterprise Destination   Price Origin Custom
18  3201912922        D033  3.5156  OR049    C16
19  3201919012        D044  2.3370  OR033    C16

```

</details>

<br/>


## DF的文件IO

### Panel
因为MutiIndex存在，所以更高维的Panel用的很少。不过书上说了去了解一下万一用到也不至于无从下手。  
**pd.Panel(data=None, items=None, major_axis=None, minor_axis=None, copy=False, dtype=None)**
- data=None 数据源
- items=None axis=0每个item对应于内部包含的数据帧(DataFrame)
- major_axis=None axis=1它是每个数据帧(DataFrame)的索引(行)。
- minor_axis=None axis=2它是每个数据帧(DataFrame)的列。
- copy=False 依旧不知道是干嘛的
- dtype=None 控制数据类型


```py

```

<details>
  <summary><B><I style="cursor:pointer; color: #0e5870">Click to See More Results</I></B></summary>

```json

```

</details>



## 索引对象
在Pandas中索引是对象，可以有多级，轻松就可以转为一维二维很好操作。  
pd生成的对象的index属性拿到的就是index对象。



## Scipy

### Scipy
sadsadasdasd

<Valine></Valine>

